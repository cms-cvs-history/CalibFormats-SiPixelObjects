// createSiPixelCalibConfigurationfromfile.cfg, by Freya Blekman, fblekman@lepp.cornell.edu

process SiPixelCalibConfTest = {

# no source is needed as we're reading in a file, only read one 'fake' event
   source = EmptySource {} 
   untracked PSet maxEvents = {untracked int32 input = 1}

# the message logger:
   service = MessageLogger { untracked vstring destinations = {"cout"} }

   include "CondCore/DBCommon/data/CondDBCommon.cfi"
   replace CondDBCommon.connect = "sqlite_file:siPixelCalibConfiguration.db"
   replace CondDBCommon.timetype = "runnumber"
   replace CondDBCommon.DBParameters.messageLevel = 0
   replace CondDBCommon.DBParameters.authenticationPath="."
   service = PoolDBOutputService {
	using CondDBCommon
	VPSet toPut = { { 
			string record = "SiPixelCalibConfigurationRcd"
			string tag = "SiPixelCalibConfiguration_v1"
			} }
   }

 module SiPixelCalibConfigurationObjectMaker = SiPixelCalibConfigurationObjectMaker{
	untracked string inputFileName = "/afs/cern.ch/cms/Tracker/Pixel/forward/FPIX/HC-Z1/HD1/Blades01_02_03/calib.GainCalibration.23Aug07_1851.dat"
   }

   path p1 = {SiPixelCalibConfigurationObjectMaker}
}
